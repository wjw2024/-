# Stock-analysis
这是一个简单即时查询股票的app

### 功能实现：

#### okhttp进行网络请求操作：

是在http://hq.sinajs.cn/list= 新浪财经网进行数据获取的。
首先，创建了一个 OkHttp 客户端对象 client，用于发起 HTTP 请求和接收响应，然后创建了一个 HTTP 请求对象 request，其中加入referer字段，否则会无法访问。接着创建一个 Call 对象，通过 call.enquene() 发起一个异步请求，将请求结果通过回调函数传递到 Callback 接口的实现，当网络请求成功时，OkHttp 会调用onResponse()方法，并将响应结果作为参数传递给该方法进行处理；当网络请求失败时，OkHttp 会调用onFailure()方法，并将响应异常作为参数传递给该方法进行处理。

#### 更新ui界面：

使用使用两个线程，其中一个线程进行数据处理和网络请求，得到一个结果后将消息传到UI进程，将数据绑定到ListView 控件中，实现数据的添加。


### 页面布局：

整体采用线性布局，将页面分为上中下，三个部分。第一部分包含三个线性布局，分别代表上证指数，深圳成指，创业板指。中间部分包裹输入股票代码的部分，和显示股票名称，涨幅，涨跌，的状态栏。第三部分则定义一个listview，新建一个show.xml进行单独布局，同时将数据存储在一个适配器中。该适配器实现方法是使用了继承自 SimpleAdapter 类的ySimpleAdapter，根据涨幅大小来对文本由不一样的上色。

